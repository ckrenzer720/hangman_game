<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Hangman Game</title>
    <!-- Critical CSS - Load immediately -->
    <link rel="stylesheet" href="styles/main.css" />
    <link rel="stylesheet" href="styles/components.css" />
    <link rel="stylesheet" href="styles/responsive.css" />
    
    <!-- Non-critical CSS - Load asynchronously -->
    <link rel="preload" href="styles/dashboard.css" as="style" onload="this.onload=null;this.rel='stylesheet'" />
    <link rel="preload" href="styles/help.css" as="style" onload="this.onload=null;this.rel='stylesheet'" />
    <link rel="preload" href="styles/challenge.css" as="style" onload="this.onload=null;this.rel='stylesheet'" />
    <noscript>
      <link rel="stylesheet" href="styles/dashboard.css" />
      <link rel="stylesheet" href="styles/help.css" />
      <link rel="stylesheet" href="styles/challenge.css" />
    </noscript>
    <!-- Polyfill for async CSS loading (fallback for browsers that don't support preload) -->
    <script>
      (function() {
        var links = document.querySelectorAll('link[rel="preload"][as="style"]');
        for (var i = 0; i < links.length; i++) {
          var link = links[i];
          if (link.onload === null) {
            link.onload = function() {
              this.rel = 'stylesheet';
            };
          }
        }
      })();
    </script>
  </head>
  <body>
    <div class="game-container">
      <header class="game-header">
        <h1>Hangman Game</h1>

        <!-- Progress Indicators -->
        <div class="progress-indicators">
          <div class="progress-group">
            <div class="progress-label">Game Progress</div>
            <div class="progress-bar-container">
              <div class="progress-bar" id="game-progress-bar">
                <div class="progress-fill" id="game-progress-fill"></div>
              </div>
              <div class="progress-text" id="game-progress-text">0%</div>
            </div>
          </div>

          <div class="stats-row">
            <div class="stat-indicator">
              <div class="stat-icon">ğŸ¯</div>
              <div class="stat-content">
                <div class="stat-label">Difficulty</div>
                <div
                  class="stat-value difficulty-indicator"
                  id="difficulty-indicator"
                >
                  Medium
                </div>
              </div>
            </div>

            <div class="stat-indicator">
              <div class="stat-icon">ğŸ”¥</div>
              <div class="stat-content">
                <div class="stat-label">Streak</div>
                <div class="stat-value streak-indicator" id="streak-indicator">
                  0
                </div>
              </div>
            </div>

            <div class="stat-indicator">
              <div class="stat-icon">â­</div>
              <div class="stat-content">
                <div class="stat-label">Score</div>
                <div class="stat-value score-display" id="score-display">0</div>
              </div>
            </div>
          </div>

          <!-- Multiplayer Player Indicator -->
          <div class="multiplayer-indicator" id="multiplayer-indicator" style="display: none;">
            <div class="current-player-display">
              <div class="player-label">Current Player</div>
              <div class="player-name" id="current-player-name"></div>
            </div>
            <div class="player-scores" id="player-scores">
              <!-- Player scores will be populated here -->
            </div>
          </div>
        </div>
      </header>

      <main class="game-main">
        <!-- Loading indicator -->
        <div id="loading-indicator" class="loading-section">
          <div class="loading-spinner"></div>
          <p>Loading words...</p>
        </div>

        <div class="hangman-section" id="hangman-section" style="display: none">
          <div class="hangman-figure" id="hangman">
            <!-- Gallows structure -->
            <div class="beam"></div>
            <div class="rope"></div>

            <!-- Hangman body parts -->
            <div class="head"></div>
            <div class="body"></div>
            <div class="left-arm"></div>
            <div class="right-arm"></div>
            <div class="left-leg"></div>
            <div class="right-leg"></div>
          </div>
        </div>

        <div class="word-section">
          <div class="word-display" id="word-display"></div>
          <div class="incorrect-letters" id="incorrect-letters"></div>
        </div>

        <div class="keyboard-section">
          <div class="virtual-keyboard" id="keyboard"></div>
        </div>

        <div class="controls-section">
          <button class="btn" id="new-game">New Game</button>
          <button class="btn" id="pause-resume">Pause</button>
          <button class="btn" id="hint">Hint</button>
          <button class="btn" id="practice">Practice</button>
          <button class="btn" id="multiplayer">Multiplayer</button>
          <button class="btn" id="challenge">Challenge</button>
          <button class="btn" id="help">Help</button>
          <button class="btn" id="statistics">Statistics</button>
          <button class="btn" id="achievements">Achievements</button>
          <button class="btn" id="settings">Settings</button>
          <button class="btn" id="quit">Quit</button>
        </div>
      </main>

      <div class="game-over-modal" id="game-over-modal">
        <div class="modal-content">
          <h2 id="game-result"></h2>
          <p id="correct-word"></p>
          <div class="modal-actions" style="display: flex; gap: 10px; justify-content: center; flex-wrap: wrap;">
            <button class="btn" id="play-again">Play Again</button>
            <button class="btn btn-share" id="share-result">ğŸ“¤ Share Result</button>
          </div>
        </div>
      </div>

      <div class="pause-overlay" id="pause-overlay">
        <div class="pause-content">
          <h2>Game Paused</h2>
          <p>Press Space or click Resume to continue</p>
          <button class="btn" id="resume-game">Resume</button>
        </div>
      </div>

      <div class="statistics-modal" id="statistics-modal">
        <div class="modal-content statistics-modal-content">
          <div class="modal-header">
            <h2>ğŸ“Š Statistics Dashboard</h2>
            <button class="btn btn-close" id="close-statistics">âœ•</button>
          </div>
          <div class="statistics-content" id="statistics-content">
            <!-- Statistics will be populated here -->
          </div>
          <div class="modal-actions">
            <button class="btn btn-danger" id="reset-statistics">
              Reset Statistics
            </button>
            <button class="btn" id="close-statistics-2">Close</button>
          </div>
        </div>
      </div>

      <div class="achievements-modal" id="achievements-modal">
        <div class="modal-content">
          <h2>Achievements</h2>
          <div class="achievements-content" id="achievements-content">
            <!-- Achievements will be populated here -->
          </div>
          <div class="modal-actions">
            <button class="btn btn-share" id="share-achievements">ğŸ“¤ Share Achievements</button>
            <button class="btn" id="close-achievements">Close</button>
          </div>
        </div>
      </div>

      <div class="settings-modal" id="settings-modal">
        <div class="modal-content">
          <h2>Settings</h2>
          <div class="settings-content" id="settings-content">
            <!-- Settings will be populated here -->
          </div>
          <div class="modal-actions">
            <button class="btn" id="backup-data">ğŸ’¾ Backup Data</button>
            <button class="btn" id="restore-data">ğŸ“¥ Restore Data</button>
            <button class="btn" id="reset-settings">Reset to Default</button>
            <button class="btn" id="close-settings">Close</button>
          </div>
        </div>
      </div>

      <div class="help-modal" id="help-modal">
        <div class="modal-content help-modal-content">
          <div class="modal-header">
            <h2>ğŸ“š Help & Tutorial</h2>
            <button class="btn btn-close" id="close-help">âœ•</button>
          </div>
          <div class="help-content" id="help-content">
            <!-- Help content will be populated here -->
          </div>
        </div>
      </div>

      <div class="challenge-modal" id="challenge-modal">
        <div class="modal-content challenge-modal-content">
          <div class="modal-header">
            <h2>ğŸ† Challenges & Tournaments</h2>
            <button class="btn btn-close" id="close-challenge">âœ•</button>
          </div>
          <div class="challenge-content" id="challenge-content">
            <!-- Challenge content will be populated here -->
          </div>
        </div>
      </div>

      <div class="practice-modal" id="practice-modal">
        <div class="modal-content">
          <div class="modal-header">
            <h2>ğŸ§ª Practice Mode</h2>
            <button class="btn btn-close" id="close-practice">âœ•</button>
          </div>
          <div class="practice-content" id="practice-content">
            <!-- Practice settings will be populated here -->
          </div>
          <div class="modal-actions">
            <button class="btn" id="start-practice">Start Practice</button>
          </div>
        </div>
      </div>

      <div class="multiplayer-modal" id="multiplayer-modal">
        <div class="modal-content">
          <div class="modal-header">
            <h2>ğŸ‘¥ Local Multiplayer</h2>
            <button class="btn btn-close" id="close-multiplayer">âœ•</button>
          </div>
          <div class="multiplayer-content" id="multiplayer-content">
            <!-- Multiplayer setup will be populated here -->
          </div>
        </div>
      </div>

      <div class="multiplayer-winner-modal" id="multiplayer-winner-modal">
        <div class="modal-content">
          <div class="modal-header">
            <h2 id="winner-title">ğŸ† Winner!</h2>
          </div>
          <div class="winner-content" id="winner-content">
            <!-- Winner comparison will be populated here -->
          </div>
          <div class="modal-actions">
            <button class="btn btn-share" id="share-multiplayer-result">ğŸ“¤ Share Result</button>
            <button class="btn" id="multiplayer-play-again">Play Again</button>
            <button class="btn" id="multiplayer-end-game">End Game</button>
          </div>
        </div>
      </div>

      <div class="share-modal" id="share-modal">
        <div class="modal-content">
          <div class="modal-header">
            <h2>ğŸ“¤ Share</h2>
            <button class="btn btn-close" id="close-share">âœ•</button>
          </div>
          <div class="share-content" id="share-content">
            <!-- Share options will be populated here -->
          </div>
        </div>
      </div>
    </div>

    <!-- Critical scripts - Load immediately -->
    <script src="scripts/performance-monitor.js"></script>
    <script src="scripts/lazy-loader.js"></script>
    <script src="scripts/memory-optimizer.js"></script>
    <script src="scripts/cache-manager.js"></script>
    <script src="scripts/offline-manager.js"></script>
    <script src="scripts/progress-manager.js"></script>
    <script src="scripts/preferences-manager.js"></script>
    <script src="scripts/error-middleware.js"></script>
    <script src="scripts/utils.js"></script>
    <script src="scripts/theme-manager.js"></script>
    <script src="scripts/game.js"></script>
    <script src="scripts/ui.js"></script>
    
    <!-- Non-critical scripts - Load lazily on demand -->
    <!-- help-system.js, challenge-system.js, share-system.js will be loaded when needed -->
    
    <script src="scripts/main.js"></script>
  </body>
</html>
